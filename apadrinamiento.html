<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apadrinamiento animales</title>
    <link rel="stylesheet" href="css/apadrinamiento.css">
    <link rel="stylesheet" href="css/estilo.css">
</head>
<body>

    <header>
        <nav class="navbar">
            <div class="contenedor-nav">

                <div class="nav-logo" id="logo">
                    <img src="img/logo.png" alt="logo">
                    <h1>U Can Save</h1>
                </div>
                
                <!-- nav links -->
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="menu.html" class="nav-link">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a href="#sobre_nosotros" class="nav-link">Sobre nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a href="carrito.html" class="nav-link">Carrito</a>
                    </li>
                </ul>
                
                <!-- BOTON -->
                <div class="nav-btn">
                    <button href="apadrinamiento.html" class="btn-apadrina">Apadrina</button>
                </div>
            </div>
        </nav>

    </header>
    <br>

    <main>
        <section class="galeria">
            <h2>Animales en Peligro de Extinción</h2>
            <div class="contenedor">
                
                <!-- 1 -->
                <div class="ficha">
                    <img class="animal" src="img/Lama guanicoe.jpeg" alt="Lama guanicoe" width="200" height="150">
                    <h3>Minga</h3>
                    <hr>
                    <p> Especie: Lama guanicoe <br> <br> Ungulado andino clave en los ecosistemas de altura.</p>
                    <p>⚠️ En peligro: Caza furtiva y pérdida de hábitat.</p>
                    <p>Fue Rescatada tras ser encontrada herida por un ataque de perros en una zona rural.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(1)">
                </div>

                <!-- 2 -->
                <div class="ficha">
                    <img class="animal" src="img/Athene.jpg" alt="Athene cunicularia" width="200" height="150">
                    <h3>Rumi</h3>
                    <hr>
                    <p> Especie: Athene cunicularia <br> <br> Búho terrestre que habita en madrigueras y es activo de día.</p>
                    <p>⚠️ En peligro: Destrucción de suelos y madrigueras por agricultura.</p>
                    <p>Llegó Trasladado por CONAF luego de que su madriguera fuese destruida por maquinaria</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(2)">
                </div>

                <!-- 3 -->
                <div class="ficha">
                    <img class="animal" src="img/Lycalopex.jpg" alt="Lycalopex griseus" width="200" height="150">
                    <h3>Lycan</h3>
                    <hr>
                    <p>
                        Especie: Lycalopex griseus
                        <br>
                        <br>
                        Cánido pequeño que ayuda a controlar plagas de roedores.
                    </p>
                    <p>⚠️ En peligro: Perseguido por creencias y caza por su piel.</p>
                    <p>Rescatado de una familia que lo mantenía como mascota ilegal.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(3)">
                </div>

                <!-- 4 -->
                <div class="ficha">
                    <img class="animal" src="img/Puma concolor.jpg" alt="Puma concolor" width="200" height="150">
                    <h3>Huilo</h3>
                    <hr>
                    <p>
                        Especie: Puma concolor
                        <br>
                        <br>
                        Gran felino sudamericano, depredador tope en la cadena trófica.
                    </p>
                    <p>⚠️ En peligro: Conflictos con humanos y reducción de hábitat.</p>
                    <p>Encontrado cachorro tras la caza de su madre por proteger ganado.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(4)">
                </div>

                <!-- 5 -->
                <div class="ficha">
                    <img class="animal" src="img/Parabuteo.jpg" alt="Parabuteo unicinctus" width="200" height="150">
                    <h3>Terra</h3>
                    <hr>
                    <p>
                        Especie: Parabuteo unicinctus
                        <br>
                        <br>
                        Ave rapaz social, poco común entre halcones, suele cazar en grupo
                    </p>
                    <p>⚠️ En peligro: Tráfico ilegal de fauna y pérdida de hábitats.</p>
                    <p>Incautado en un operativo contra cetrería ilegal en el norte de Chile.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(5)">
                </div>

                <!-- 6 -->
                <div class="ficha">
                    <img class="animal" src="img/Phocoena.jpeg" alt="Phocoena sinus" width="200" height="150">
                    <h3>Luna</h3>
                    <hr>
                    <p>
                        Especie: Phocoena sinus 
                        <br>
                        <br>
                        La marsopa más pequeña del mundo, endémica del golfo de California.
                    </p>
                    <p>⚠️ En peligro: Captura incidental en redes de pesca.</p>
                    <p>Encontrada enmallada en una red abandonada, sobrevivió gracias al rescate.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(6)">
                </div>

                <!-- 7 -->
                <div class="ficha">
                    <img class="animal" src="img/Beluga.jpg" alt="Delphinapterus leucas" width="200" height="150">
                    <h3>Nieve</h3>
                    <hr>
                    <p>
                        Especie: Delphinapterus leucas  
                        <br>
                        <br>
                        Cetáceo blanco del Ártico, muy social y comunicativo.
                    </p>
                    <p>⚠️ En peligro: Cambio climático y contaminación acústica en mares polares.</p>
                    <p>Trasladada a un centro de rehabilitación luego de varar debilitada en aguas frías del sur.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(7)">
                </div>

                <!-- 8 -->
                <div class="ficha">
                    <img class="animal" src="img/Narval.jpg" alt="Monodon monoceros" width="200" height="150">
                    <h3>Spike</h3>
                    <hr>
                    <p>
                        Especie: Monodon monoceros
                        <br>
                        <br>
                        Ballena dentada famosa por su largo colmillo en espiral.
                    </p>
                    <p>⚠️ En peligro: Derretimiento del hielo ártico y caza históric</p>
                    <p>Rescatado tras quedar atrapado en aguas poco profundas debido al retroceso del hielo.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(8)">
                </div>


                <!-- 9 -->
                <div class="ficha">
                    <img class="animal" src="img/Pingüino de Humboldt.webp" alt="Spheniscus humboldti" width="200" height="150">
                    <h3>Chilly</h3>
                    <hr>
                    <p>
                        Especie: Spheniscus humboldti
                        <br>
                        <br>
                        Pingüino costero del norte de Chile y Perú.
                    </p>
                    <p>⚠️ En peligro: Sobrepesca de anchovetas y pérdida de lugares de anidación.</p>
                    <p>Encontrado cubierto de petróleo tras un derrame cerca de la costa.</p>
                    <input type="button" value="Agregar" onclick="agregarAnimal(9)">
                </div>
            </div>
        </section>
        <section class="carrito">
            Carrito: <label id="pie">0</label>
        </section>
    </main>

    <!-- para hacer un pie de página -->
    <footer>
        <p>© 2025 U Can Save - Proyecto Fullstack II</p>
    </footer>

    <script src="js/animal.js"></script>
    <script>
        var animales=[
            new Animal(1,"Minga",5000),
            new Animal(2,"Rumi",5000),
            new Animal(3,"Lycan",5000),
            new Animal(4,"Huilo",5000),
            new Animal(5,"Terra",5000),
            new Animal(6,"Luna",5000),
            new Animal(7,"Nieve",5000),
            new Animal(8,"Spike",5000),
            new Animal(9,"Chilly",5000)
        ]

        localStorage.setItem("animales",JSON.stringify(animales));

        function agregarAnimal(id){
            console.log("Selecciono:"+id);
            const data=JSON.parse(localStorage.getItem("animales"));
            
            //recorrer el arreglo
            console.log(data[id-1]);
            console.log(data[id-1]["nombre"]);
            let nombre_animal=data[id-1]["nombre"];
            var valor=parseInt(document.getElementById("pie").innerHTML); //lo convierte en un numero
            valor=valor+1;
            console.log(valor);
            document.getElementById("pie").innerHTML=valor;

            var carrito=JSON.parse(localStorage.getItem("carrito"));

            if(!carrito){
                console.log("no existe")
                carrito=[
                    data[id-1],
                ]
                localStorage.setItem("carrito",JSON.stringify(carrito))
                console.log("Apadrinamiento agregado")
            }else{
                console.log("existe")
                carrito.push(data[id-1])
                localStorage.setItem("carrito",JSON.stringify(carrito))
                console.log("Apadrinamiento agregado")
            }
        }
    </script>
</body>
</html>